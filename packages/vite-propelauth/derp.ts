import { initBaseAuth } from "@propelauth/node";

//const token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6ImNkZGMxMzA3LTBlNmItNDEyOS1hNTExLTIyMGNkYmViNDBlZCJ9.eyJzdWIiOiI3NjRjMDlkZC0wZjAxLTQ1ODQtOTNkNy1kNjgzNDAwMzM0NGMiLCJpYXQiOjE3MjM3MzI0NjUsImV4cCI6MTcyMzczNDI2NSwidXNlcl9pZCI6Ijc2NGMwOWRkLTBmMDEtNDU4NC05M2Q3LWQ2ODM0MDAzMzQ0YyIsImlzcyI6Imh0dHBzOi8vMTc3MDg5MzA2Ny5wcm9wZWxhdXRodGVzdC5jb20iLCJlbWFpbCI6InBhbG1pdGhvciswNTBAZ21haWwuY29tIiwib3JnX21lbWJlcl9pbmZvIjp7Im9yZ19pZCI6IjVmN2NmMzczLTNiODItNDc4Zi04NDNiLWU0ZTczNTk3YTY2ZSIsIm9yZ19uYW1lIjoic2Vjb25kIG9uZSIsInVybF9zYWZlX29yZ19uYW1lIjoic2Vjb25kLW9uZSIsIm9yZ19tZXRhZGF0YSI6e30sInVzZXJfcm9sZSI6Ik93bmVyIiwiaW5oZXJpdGVkX3VzZXJfcm9sZXNfcGx1c19jdXJyZW50X3JvbGUiOlsiT3duZXIiLCJBZG1pbiIsIk1lbWJlciJdLCJvcmdfcm9sZV9zdHJ1Y3R1cmUiOiJzaW5nbGVfcm9sZV9pbl9oaWVyYXJjaHkiLCJhZGRpdGlvbmFsX3JvbGVzIjpbXSwidXNlcl9wZXJtaXNzaW9ucyI6WyJwcm9wZWxhdXRoOjpjYW5faW52aXRlIiwicHJvcGVsYXV0aDo6Y2FuX2NoYW5nZV9yb2xlcyIsInByb3BlbGF1dGg6OmNhbl9yZW1vdmVfdXNlcnMiLCJwcm9wZWxhdXRoOjpjYW5fc2V0dXBfc2FtbCIsInByb3BlbGF1dGg6OmNhbl9tYW5hZ2VfYXBpX2tleXMiLCJwcm9wZWxhdXRoOjpjYW5fdmlld19vdGhlcl9tZW1iZXJzIiwicHJvcGVsYXV0aDo6Y2FuX2RlbGV0ZV9vcmciXX0sInByb3BlcnRpZXMiOnsibWV0YWRhdGEiOnsiZGVmYXVsdE9yZyI6ImIzZjcwNTVjLTUyOTItNGM3NS05MDQzLTIxZTVkZjBiZGFlZiJ9fSwibG9naW5fbWV0aG9kIjp7ImxvZ2luX21ldGhvZCI6InBhc3N3b3JkIn19.hvLWuU4PvIgy7n9sBEkUBdF0FkcI66BUgaDIcwFOh23D3WiYxtxenzsAW8xyKiJmXVl1L90iXAt6j_EmIE-F94YmBPBANwG7wT1H2VvmLs4V2P0LBw2QKYYbV8R6wFigLuYe1EzMIB4i8F5oRzQABQ-r2G_UNUORjCUUFbQNbM1VLzwTsE-sZJIONi7f0SZnpVdOy-PnEGeXgoTZ6Zr2yCHgfjbqSsfcQgK3v9NtmkRtjGb_eMCAaViGk_S2WxlQiE-vaajjCy7uVfPCubpNpUVNYrlGqrr2Dte4MOOwuRIy2L6ILxAfNKz7CiBMI34YlZIh2xitkF5yAh2jwvGjFg";
const token =
  "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6ImNkZGMxMzA3LTBlNmItNDEyOS1hNTExLTIyMGNkYmViNDBlZCJ9.eyJzdWIiOiI3NjRjMDlkZC0wZjAxLTQ1ODQtOTNkNy1kNjgzNDAwMzM0NGMiLCJpYXQiOjE3MjM3MzI0NjQsImV4cCI6MTcyMzczNDI2NCwidXNlcl9pZCI6Ijc2NGMwOWRkLTBmMDEtNDU4NC05M2Q3LWQ2ODM0MDAzMzQ0YyIsImlzcyI6Imh0dHBzOi8vMTc3MDg5MzA2Ny5wcm9wZWxhdXRodGVzdC5jb20iLCJlbWFpbCI6InBhbG1pdGhvciswNTBAZ21haWwuY29tIiwib3JnX2lkX3RvX29yZ19tZW1iZXJfaW5mbyI6eyJiM2Y3MDU1Yy01MjkyLTRjNzUtOTA0My0yMWU1ZGYwYmRhZWYiOnsib3JnX2lkIjoiYjNmNzA1NWMtNTI5Mi00Yzc1LTkwNDMtMjFlNWRmMGJkYWVmIiwib3JnX25hbWUiOiJkZW1vZGVtb2RlbW8iLCJ1cmxfc2FmZV9vcmdfbmFtZSI6ImRlbW9kZW1vZGVtbyIsIm9yZ19tZXRhZGF0YSI6e30sInVzZXJfcm9sZSI6Ik93bmVyIiwiaW5oZXJpdGVkX3VzZXJfcm9sZXNfcGx1c19jdXJyZW50X3JvbGUiOlsiT3duZXIiLCJBZG1pbiIsIk1lbWJlciJdLCJvcmdfcm9sZV9zdHJ1Y3R1cmUiOiJzaW5nbGVfcm9sZV9pbl9oaWVyYXJjaHkiLCJhZGRpdGlvbmFsX3JvbGVzIjpbXSwidXNlcl9wZXJtaXNzaW9ucyI6WyJwcm9wZWxhdXRoOjpjYW5faW52aXRlIiwicHJvcGVsYXV0aDo6Y2FuX2NoYW5nZV9yb2xlcyIsInByb3BlbGF1dGg6OmNhbl9yZW1vdmVfdXNlcnMiLCJwcm9wZWxhdXRoOjpjYW5fc2V0dXBfc2FtbCIsInByb3BlbGF1dGg6OmNhbl9tYW5hZ2VfYXBpX2tleXMiLCJwcm9wZWxhdXRoOjpjYW5fdmlld19vdGhlcl9tZW1iZXJzIiwicHJvcGVsYXV0aDo6Y2FuX2RlbGV0ZV9vcmciXX0sIjVmN2NmMzczLTNiODItNDc4Zi04NDNiLWU0ZTczNTk3YTY2ZSI6eyJvcmdfaWQiOiI1ZjdjZjM3My0zYjgyLTQ3OGYtODQzYi1lNGU3MzU5N2E2NmUiLCJvcmdfbmFtZSI6InNlY29uZCBvbmUiLCJ1cmxfc2FmZV9vcmdfbmFtZSI6InNlY29uZC1vbmUiLCJvcmdfbWV0YWRhdGEiOnt9LCJ1c2VyX3JvbGUiOiJPd25lciIsImluaGVyaXRlZF91c2VyX3JvbGVzX3BsdXNfY3VycmVudF9yb2xlIjpbIk93bmVyIiwiQWRtaW4iLCJNZW1iZXIiXSwib3JnX3JvbGVfc3RydWN0dXJlIjoic2luZ2xlX3JvbGVfaW5faGllcmFyY2h5IiwiYWRkaXRpb25hbF9yb2xlcyI6W10sInVzZXJfcGVybWlzc2lvbnMiOlsicHJvcGVsYXV0aDo6Y2FuX2ludml0ZSIsInByb3BlbGF1dGg6OmNhbl9jaGFuZ2Vfcm9sZXMiLCJwcm9wZWxhdXRoOjpjYW5fcmVtb3ZlX3VzZXJzIiwicHJvcGVsYXV0aDo6Y2FuX3NldHVwX3NhbWwiLCJwcm9wZWxhdXRoOjpjYW5fbWFuYWdlX2FwaV9rZXlzIiwicHJvcGVsYXV0aDo6Y2FuX3ZpZXdfb3RoZXJfbWVtYmVycyIsInByb3BlbGF1dGg6OmNhbl9kZWxldGVfb3JnIl19fSwicHJvcGVydGllcyI6eyJtZXRhZGF0YSI6eyJkZWZhdWx0T3JnIjoiYjNmNzA1NWMtNTI5Mi00Yzc1LTkwNDMtMjFlNWRmMGJkYWVmIn19LCJsb2dpbl9tZXRob2QiOnsibG9naW5fbWV0aG9kIjoicGFzc3dvcmQifX0.qyInDogkNmtlUcutQMMnUjnaALkNGvApJkZ61e6MeX-R8xYpg3nDswbsYneHw9fJ8P7XzQbyfdkc231ndg1R9EqrIp1ftBcV-uRzwZcdADMwHfetF4532a9apLW4FxfJ5HtnLHrVEPPsDwjXE0s9yFPK2-etsNVLE85TC3QI4_vZbM9vzf-oMJ_jn5l5MPgWUPonBdq7MqAMAdqy0OIvnd6R8SzicD6S29LvlqSSUMx0IPREARf85x5kS4RgXQ8UgFXUwEbVaopF649bKHIjHyBtD5HCTw_rPZLzFVx2K7M3vzDqYl2RQO313e7GsyGOBejctA5l_6DEBcOKmoq9xw";
const auth = initBaseAuth({
  apiKey:
    "bf178dfb52ff09560edb59e3d0e603b711563aa35c5f9a10f7aadddfe8035ded1e50942f5c39140c5fd5f53f050e6c92",
  authUrl: "https://1770893067.propelauthtest.com",
});

const ble = await auth.validateAccessTokenAndGetUser(`Bearer ${token}`);

console.log(ble);
